var prefixedTransformProp=function(){var t=document.createElement("div"),e=["Webkit","webkit","Moz","moz","ms","o"];if(null!=t.style.transform)return"transform";for(var a in e){var r=e[a]+"Transform";if(void 0!==t.style[r])return r}},difference=function(t,e){return Math.abs(t-e)},limit=function(t,e,a){return Math.max(Math.min(a,e),t)},interval=function(t,e,a){return difference(t,a)/difference(t,e)},interpolate=function(t,e,a){var r=difference(t,e)*a;return t>e?t-r:t+r},get_interview_lines=function(t){return Array.from(t.querySelectorAll(".line")).map(function(t){var e=parseInt(t.dataset.end,10),a=parseInt(t.dataset.start,10),r=parseFloat(t.dataset.opacityStart),n=parseFloat(t.dataset.opacityEnd),s=parseInt(t.dataset.translatexStart,10),i=parseInt(t.dataset.translatexEnd,10),l=parseInt(t.dataset.translateyStart,10),o=parseInt(t.dataset.translateyEnd,10),d=parseFloat(t.dataset.scaleStart),f=parseFloat(t.dataset.scaleEnd),p={};return isNaN(r)||isNaN(n)||(p.opacity={end:n,start:r}),isNaN(s)||isNaN(i)||(p.translateX={end:i,start:s}),isNaN(l)||isNaN(o)||(p.translateY={end:o,start:l}),isNaN(d)||isNaN(f)||(p.scale={end:f,start:d}),void 0===e||void 0===a||0===Object.keys(p).length?null:{el:t,end:e,offset:0,start:a,updates:p}}).filter(function(t){return t})},update_interview_lines=function(t,e,a){var r=prefixedTransformProp(),n=a;t.map(function(t){var a=t.el,s=t.offset,i=t.updates,l=s+t.start,o=s+t.end,d=e.get(a);if(n>=l&&n<=o||"before"!==d&&n<l||"after"!==d&&n>o){var f=0,p=0,c=1,u=limit(l,o,n),v=interval(l,o,u);if(i.opacity){var m=i.opacity,N=interpolate(m.start,m.end,v).toFixed(2);a.style.opacity=N}if(i.translateX){var y=i.translateX;f=parseInt(interpolate(y.start,y.end,v),10)}if(i.translateY){var x=i.translateY;p=parseInt(interpolate(x.start,x.end,v),10)}if(i.scale){var I=i.scale;c=interpolate(I.start,I.end,v).toFixed(2)}a.style[r]="translate3d("+f+"px, "+p+"px, 0) scale("+c+")",e.set(a,n<l?"before":n>o?"after":"during")}})};export{get_interview_lines as a,update_interview_lines as b};