var e=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))(function(i,r){function l(e){try{a(s.next(e))}catch(e){r(e)}}function o(e){try{a(s.throw(e))}catch(e){r(e)}}function a(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(l,o)}a((s=s.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,s,i,r,l={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function o(r){return function(o){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,s&&(i=2&r[0]?s.return:r[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,r[1])).done)return i;switch(s=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return l.label++,{value:r[1],done:!1};case 5:l.label++,s=r[1],r=[0];continue;case 7:r=l.ops.pop(),l.trys.pop();continue;default:if(!(i=(i=l.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){l=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){l.label=r[1];break}if(6===r[0]&&l.label<i[1]){l.label=i[1],i=r;break}if(i&&l.label<i[2]){l.label=i[2],l.ops.push(r);break}i[2]&&l.ops.pop(),l.trys.pop();continue}r=t.call(e,l)}catch(e){r=[6,e],s=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,o])}}};System.register(["./p-afdfa3ab.system.js","./p-dbf510f0.system.js"],function(n){"use strict";var s,i,r,l,o;return{setters:[function(e){s=e.c,i=e.h,r=e.d,l=e.f},function(e){o=e.a}],execute:function(){var a=function(){function n(e){s(this,e),this.name="select",this.placeholder="Choose something...",this.required=!1,this.open=!1,this.verbiage="selection",this.valueLabel=void 0,this.blur=0,this.clear_confirm=!1,this.values=[],this.change=i(this,"change",7)}return n.prototype.componentWillLoad=function(){this.multiple&&(this.value=[]),this.listen_to_values()},n.prototype.componentDidLoad=function(){return e(this,void 0,void 0,function(){var e=this;return t(this,function(t){switch(t.label){case 0:return this.current=this.element.shadowRoot.querySelector("stellar-item.current"),this.multiple?[4,this.option_elements()]:[3,2];case 1:t.sent().forEach(function(e){e.multiple=!0}),t.label=2;case 2:return this.default&&("object"==typeof this.default&&"Array"===this.default.constructor.name?this.default.forEach(function(t){e.element.querySelector('stellar-item[value="'+t+'"]').select_item()}):this.element.querySelector('stellar-item[value="'+this.default+'"]').select_item()),[2]}})})},n.prototype.clearValue=function(){return e(this,void 0,void 0,function(){var e;return t(this,function(t){switch(t.label){case 0:return this.clear_confirm?[4,o(100)]:[3,3];case 1:return t.sent(),this.clear_confirm=!1,this.value=[],this.values=[],[4,this.option_elements()];case 2:return e=t.sent(),Array.from(e).forEach(function(e){e.selected=!1}),this.change.emit(this.value),[3,4];case 3:this.clear_confirm=!0,t.label=4;case 4:return[2]}})})},n.prototype.handleOpenChange=function(){this.element.shadowRoot.querySelector("button.select-title").focus()},n.prototype.handleMultipleChange=function(n){return e(this,void 0,void 0,function(){return t(this,function(e){switch(e.label){case 0:return[4,this.option_elements()];case 1:return e.sent().forEach(function(e){e.multiple=n}),[2]}})})},n.prototype.mountedHandler=function(n){return e(this,void 0,void 0,function(){var e,s,i,r=this;return t(this,function(t){switch(t.label){case 0:return e=n.detail,this.multiple?[4,this.option_elements()]:[3,2];case 1:return s=t.sent(),i=[],s.forEach(function(t){t.selectable=!0,r.value&&r.value.includes(t.value)&&!e.element.selected&&(t.selected=!0),t.selected&&i.push(t.value)}),this.value=i,[3,4];case 2:return this.value=e.element.selected?e.element.value:this.value,this.value?[4,this.option_elements()]:[3,4];case 3:t.sent().forEach(function(e){e.selectable=!0,r.value===e.value&&(e.selected=!0)}),t.label=4;case 4:return[2]}})})},n.prototype.selectionChangedHandler=function(n){return e(this,void 0,void 0,function(){var e,s,i,r,l,o=this;return t(this,function(t){switch(t.label){case 0:return e=n.detail,this.multiple?(e.selected=!e.selected,[4,this.option_elements()]):[3,2];case 1:return s=t.sent(),i=[],s.forEach(function(t){o.value&&o.value.includes(t.value)&&e.value!==t.value&&(t.selected=!0),t.selected&&i.push(t.value)}),this.value=i,this.change.emit(this.value),[3,6];case 2:return e.element.classList.contains("current")?[3,6]:[4,this.option_elements()];case 3:return t.sent().forEach(function(e){e.selected=!1}),e.selected=!0,this.value=e.value,this.change.emit(this.value),this.current?(l=(r=this.current).apply,[4,e.data()]):[3,5];case 4:l.apply(r,[t.sent()]),t.label=5;case 5:setTimeout(function(){o.open=!1},200),t.label=6;case 6:return[2]}})})},n.prototype.selectedFocusChangedHandler=function(){this.focused=!0},n.prototype.selectedBlurChangedHandler=function(){this.focused=!1},n.prototype.handleTitleFocus=function(){this.focused=!0},n.prototype.handleTitleBlur=function(){this.focused=!1},n.prototype.handleNotClick=function(e){e.target===this.element||this.element.contains(e.target)||this.open&&(this.open=!1)},n.prototype.handleEscapeKey=function(e){"space"===e.key&&this.open&&(this.open=!1)},n.prototype.handleArrowKeys=function(e){40!==e.keyCode&&38!==e.keyCode||this.open&&(e.preventDefault(),e.stopPropagation(),40===e.keyCode?this.focusNextOption():this.focusPreviousOption())},n.prototype.readable_value=function(){return"object"==typeof this.value?0===this.value.length?this.placeholderInverted?"All "+this.verbiage+"(s) selected":"No "+this.verbiage+"(s) selected":this.value.length+" "+this.verbiage+(this.value.length>1?"s":""):"string"==typeof this.value?this.valueLabel||this.value.toString()||"Select "+(this.verbiageAn?"an":"a")+" "+this.verbiage:this.valueLabel||this.value},n.prototype.validate=function(){return e(this,void 0,void 0,function(){var e;return t(this,function(t){switch(t.label){case 0:return e={name:""+this.name,value:this.value,valid:!0,errors:[]},this.novalidate?[3,2]:(this.value||(e.valid=!1,e.errors.push({message:"This field is required."})),[4,this.options()]);case 1:t.sent().includes(this.value)||(e.valid=!1,e.errors.push({message:'"'+this.value+"\" isn't a valid option."})),t.label=2;case 2:return this.status=e,[2,this.status]}})})},n.prototype.listen_to_values=function(){var e=this,t=this.element;this.observer=new MutationObserver(function(t){for(var n=0,s=t;n<s.length;n++)"childList"==s[n].type&&e.update_values()}),this.observer.observe(t,{childList:!0,subtree:!0})},n.prototype.update_values=function(){return e(this,void 0,void 0,function(){var e,n=this;return t(this,function(){return e=Array.from(this.element.querySelectorAll("stellar-item")),this.values=e.map(function(e){return n.multiple&&(e.multiple=!0),e.valueLabel&&e.selected&&(n.valueLabel=e.valueLabel),e.value}),[2]})})},n.prototype.option_elements=function(){return e(this,void 0,void 0,function(){return t(this,function(){return[2,this.element.querySelectorAll("stellar-item:not(.current)")]})})},n.prototype.options=function(){return e(this,void 0,void 0,function(){var e,n;return t(this,function(t){switch(t.label){case 0:return[4,this.option_elements()];case 1:return e=t.sent(),n=[],e.forEach(function(e){n.push(e.value)}),[2,n]}})})},n.prototype.focusPaths=function(){return e(this,void 0,void 0,function(){var e,n,s,i,r;return t(this,function(t){switch(t.label){case 0:return e=void 0,n=void 0,s=void 0,[4,this.options()];case 1:return(i=t.sent()).forEach(function(t,r){t.hasFocus()&&(s=i[r-1],e=t,n=i[r+1])}),e||(this.focusElement(r=i[0]),e=r),[2,{previous:s,current:e,next:n}]}})})},n.prototype.focusFirstItem=function(){this.element.querySelector(".select-list stellar-item:first-of-type").focus()},n.prototype.focusElement=function(e){e.focus()},n.prototype.focusNextOption=function(){return e(this,void 0,void 0,function(){var e;return t(this,function(t){switch(t.label){case 0:return[4,this.focusPaths()];case 1:return(e=t.sent()).next&&this.focusElement(e.next),[2]}})})},n.prototype.focusPreviousOption=function(){return e(this,void 0,void 0,function(){var e;return t(this,function(t){switch(t.label){case 0:return[4,this.focusPaths()];case 1:return(e=t.sent()).previous&&this.focusElement(e.previous),[2]}})})},n.prototype.closeOthers=function(){var e=this,t=document.querySelectorAll("stellar-select[open]");Array.from(t).forEach(function(t){t!==e.element&&(t.open=!1)})},n.prototype.handleTitleClick=function(){this.closeOthers(),this.open=!this.open},n.prototype.renderLabel=function(){var e=this;if(this.label)return r("div",{class:"label-wrapper"},r("stellar-label",{onClick:function(){e.focusFirstItem()}},this.label),this.renderEmptyButton())},n.prototype.renderErrors=function(){if(this.status&&this.status.errors&&0!==this.status.errors.length)return r("p",{class:"validation"},this.status.errors.map(function(e){return r("span",null,e.message)}))},n.prototype.renderEmptyButton=function(){var e=this;return this.multiple&&this.value&&this.value.length>0&&r("stellar-button",{tag:"button",size:"tiny",ghost:!0,class:"theme-red",onClick:function(t){t.stopPropagation(),e.clearValue()}},r("stellar-asset",{name:"close",class:"fs4 mr1"}),this.clear_confirm?"Clear "+this.value.length+" selections?":"Clear")},n.prototype.render=function(){var e=this;return r("div",{class:"wrapper"},this.renderLabel(),r("div",{class:"select"},r("button",{type:"button",class:"select-title",onClick:function(){return e.handleTitleClick()},onFocus:function(){return e.handleTitleFocus()},onBlur:function(){return e.handleTitleBlur()}},r("stellar-item",{class:"current",type:"button",value:this.value?this.value.toString():"",tabindex:"-1",selectable:!1,label:this.readable_value()},this.readable_value()),r("stellar-asset",{name:"arrow-down"}),this.name&&r("input",{type:"text",tabindex:"-1",value:this.value,name:this.name.toString(),required:this.required})),this.tooltip&&r("stellar-tooltip",{align:"bottom-left",onClick:function(){return e.handleTitleClick()}},this.tooltip),r("stellar-blur",{vertical:this.blur,class:"select-list"},r("div",{class:"select-list-header"},r("slot",{name:"header"})),r("div",{class:"select-list-body"},r("slot",null)),this.footer&&r("div",{class:"select-list-footer"},r("slot",{name:"footer"})))),r("stellar-label",{size:"small",underneath:!0},this.description),!this.novalidate&&this.renderErrors())},Object.defineProperty(n.prototype,"element",{get:function(){return l(this)},enumerable:!0,configurable:!0}),Object.defineProperty(n,"watchers",{get:function(){return{open:["handleOpenChange"],multiple:["handleMultipleChange"]}},enumerable:!0,configurable:!0}),Object.defineProperty(n,"style",{get:function(){return":host{--color:var(--black);--border-radius:0.3rem;--item-size:4.25rem;--background:var(--white);--border-color:var(--gray1);-webkit-box-sizing:border-box;box-sizing:border-box;display:block;width:100%;font-family:inherit;position:relative}:host(:not(.hydrated)){display:none}:host ::slotted(stellar-item),:host stellar-item{--item-size:4.2rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%}:host *,:host :after,:host :before{-webkit-box-sizing:border-box;box-sizing:border-box;font-family:inherit}:host .select{display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:column;flex-direction:column}:host .select-title{cursor:pointer;display:-ms-inline-flexbox;display:inline-flex;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;border:1px solid var(--border-color);border-radius:var(--border-radius);padding:0;width:100%;height:var(--item-size);overflow:hidden;line-height:1.4;color:var(--color);font-weight:500;background:var(--background)}:host([focused]) .select-title,:host .select-title:focus,:host .wrapper:hover .select-title{border-color:var(--theme-base5);-webkit-box-shadow:0 0 0 1px var(--theme-base5);box-shadow:0 0 0 1px var(--theme-base5)}:host .select-title stellar-item{background:var(--background)!important;color:var(--color)!important}:host .select-title input{display:none}:host .select-title stellar-asset{position:absolute;right:2rem;-webkit-transition:-webkit-transform .1s var(--ease) 0s;transition:-webkit-transform .1s var(--ease) 0s;transition:transform .1s var(--ease) 0s;transition:transform .1s var(--ease) 0s,-webkit-transform .1s var(--ease) 0s;font-size:1.6rem;color:var(--theme-base5);background:transparent;border:0}:host .select-title .button stellar-asset{display:none}:host([open]) .select-title stellar-asset{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host .select-list{display:-ms-flexbox;display:flex;position:relative;top:0;left:0;-ms-flex-direction:column;flex-direction:column;-webkit-transform-origin:50% 0;transform-origin:50% 0;-webkit-transition:opacity .25s var(--ease) .35s,max-height .2s var(--ease) .35s,-webkit-transform .2s var(--ease) .35s;transition:opacity .25s var(--ease) .35s,max-height .2s var(--ease) .35s,-webkit-transform .2s var(--ease) .35s;transition:transform .2s var(--ease) .35s,opacity .25s var(--ease) .35s,max-height .2s var(--ease) .35s;transition:transform .2s var(--ease) .35s,opacity .25s var(--ease) .35s,max-height .2s var(--ease) .35s,-webkit-transform .2s var(--ease) .35s;opacity:0;z-index:3;background:var(--background);width:100%;max-height:0;overflow-x:hidden;overflow-y:hidden;color:var(--theme-base5);border:1px solid var(--border-color);pointer-events:none;-webkit-box-shadow:0 1px 2px rgba(0,0,0,.15);box-shadow:0 1px 2px rgba(0,0,0,.15);border-radius:.3rem}:host .select-list ::slotted(stellar-item){color:var(--color);border-bottom:1px solid var(--border-color)}:host .select-list ::slotted(stellar-item:last-child){border-bottom:none}:host .label-wrapper{width:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:1rem;height:1.8rem}:host .label-wrapper stellar-label{margin:0}:host .select-list-footer{-ms-flex-order:3;order:3;height:4rem;border-top:1px solid var(--theme-base5)}stellar-input .validation{margin-bottom:0;color:var(--red5);font-size:var(--complementing-font-size);font-weight:500}stellar-input .validation span{display:block;padding:1.4rem 0;line-height:1.4}stellar-input .validation span+span{border-top:1px solid var(--border-color)}:host([open]) .select-list,:host .select-list:focus-within{-webkit-transition:opacity .25s var(--ease) 0ms,max-height .2s var(--ease) 0ms,-webkit-transform .2s var(--ease) 0ms;transition:opacity .25s var(--ease) 0ms,max-height .2s var(--ease) 0ms,-webkit-transform .2s var(--ease) 0ms;transition:transform .2s var(--ease) 0ms,opacity .25s var(--ease) 0ms,max-height .2s var(--ease) 0ms;transition:transform .2s var(--ease) 0ms,opacity .25s var(--ease) 0ms,max-height .2s var(--ease) 0ms,-webkit-transform .2s var(--ease) 0ms;opacity:1;pointer-events:auto;max-height:20rem;overflow-y:auto}:host([size=small]) .select-title{height:3.5rem}:host([size=small]) .select-title stellar-asset{right:1rem}:host([size=small]) .label{font-size:.75rem}:host([size=small]) stellar-item{--font-size:1.4rem;--item-size:3.5rem}:host([size=small]) .select-list:focus-within,:host([size=small][open]) .select-list{max-height:11rem}:host([overlay]) .select-list{position:absolute;top:calc((var(--item-size) * .75) + .5rem)}:host stellar-tooltip{cursor:pointer}:host stellar-item stellar-tooltip{display:none}:host-context(.dark-mode){--background:var(--black-alt);--color:var(--white);--border-color:var(--gray9)}:host ::selection{background:var(--theme-base0)!important}"},enumerable:!0,configurable:!0}),n}();n("stellar_select",a)}}});