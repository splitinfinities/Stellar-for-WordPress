import{d as t,f as e,g as i}from"./p-1da3eb99.js";import"./p-40f083d9.js";import{a as s}from"./p-d0cf38d8.js";import{a as n}from"./p-4a053c09.js";class r{constructor(e){t(this,e),this.animation="fadeInUp",this.outAnimation="fadeOut",this.delay=100,this.timing=50,this.active=!1}componentWillLoad(){this.children=Array.from(this.element.children)}componentDidLoad(){this.addIntersectionObserver()}addIntersectionObserver(){"IntersectionObserver"in window?(this.io=new IntersectionObserver(t=>{t[0].isIntersecting&&(setTimeout(()=>{this.active=!0,this.in()},350),this.removeIntersectionObserver())},{rootMargin:"50%",threshold:[0]}),this.io.observe(this.element.parentElement)):setTimeout(()=>{this.in()},300)}removeIntersectionObserver(){this.io&&(this.io.disconnect(),this.io=null)}async calculateTiming(){const t=1e3+this.children.length*this.delay;await n(t)}async out(){return s.set({"--animation":this.outAnimation},this.element),this.children.forEach((t,e)=>{t.style.setProperty("animation-delay",`${this.delay*e}ms`),t.style.setProperty("animation-timing",`${this.timing}ms`)}),await this.calculateTiming()}async in(){return s.set({"--animation":this.animation},this.element),this.children.forEach((t,e)=>{t.style.setProperty("animation-delay",`${this.delay*e}ms`),t.style.setProperty("animation-timing",`${this.timing}ms`)}),await this.calculateTiming()}render(){return e("slot",null)}get element(){return i(this)}static get style(){return":host{display:contents;--animation:fadeIn}:host ::slotted(*){opacity:0}:host([active]) ::slotted(*){-webkit-animation-duration:1s;animation-duration:1s;-webkit-animation-iteration-count:1;animation-iteration-count:1;-webkit-animation-fill-mode:both;animation-fill-mode:both;-webkit-animation-timing-function:var(--ease);animation-timing-function:var(--ease);-webkit-animation-name:var(--animation);animation-name:var(--animation)}"}}export{r as stellar_reveal};