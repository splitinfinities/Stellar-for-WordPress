var __awaiter=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(a,s)}l((n=n.apply(e,t||[])).next())})},__generator=this&&this.__generator||function(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}};StellarCore.loadBundle("8tmnpatz",["exports"],function(e){var t=window.StellarCore.h,r={iconStyle:"solid",base:{iconColor:"#484849",color:"#484849",fontWeight:500,fontFamily:"Open Sans, sans-serif",fontSize:"15px",fontSmoothing:"antialiased","::placeholder":{color:"#a3a3a4"},":-webkit-autofill":{color:"#a3a3a4"}},invalid:{iconColor:"#f85e5a",color:"#f85e5a","::placeholder":{color:"#fa8e8b"}}},n={focus:"focused",empty:"empty",invalid:"invalid"},o=function(){function e(){this.token="pk_test_6pRNASCoBOKtIshFeQd4XMUh",this.name="stripe",this.value=void 0,this.cardData={},this.state="preparing"}return e.prototype.componentWillLoad=function(){this.stripe=window.Stripe(this.token)},e.prototype.componentDidLoad=function(){this.connect()},e.prototype.connect=function(){this.stripe=window.Stripe(this.token),this.input=this.element.querySelector(".token"),this.attachToForm(),this.prepareStripe()},e.prototype.getToken=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(e){switch(e.label){case 0:return[4,this.stripe.createToken(this.card,this.cardData).then(this.handleResponse.bind(this)).catch(this.handleError.bind(this))];case 1:return e.sent(),[2,void 0!==this.value]}})})},e.prototype.attachToForm=function(){var e=this,t=this.element.closest("form");t?t.addEventListener("submit",function(r){r.preventDefault(),e.getToken().then(function(e){e&&t.submit()})}):console.error("The stellar-stripe tag must be added to a form.")},e.prototype.handleResponse=function(e){var t=e.error,r=e.token;t?this.setError(t.message):(this.error=void 0,this.value=r.id)},e.prototype.handleError=function(e){this.setError(e.message)},e.prototype.setError=function(e){this.error=e},e.prototype.prepareStripe=function(){var e=this.stripe.elements({fonts:[{cssSrc:"https://fonts.googleapis.com/css?family=Open+Sans"}],locale:"auto"});this.card=e.create("card",{style:r,classes:n,hidePostalCode:!0}),this.card.mount(this.element.querySelector("#card"))},e.prototype.renderPhone=function(){return t("stellar-input",{id:"phone","data-tid":"stellar_stripe.form.phone",type:"tel",placeholder:"(941) 555-0123",required:!0,label:"Phone number"})},e.prototype.renderZip=function(){return t("stellar-input",{id:"zip","data-tid":"stellar_stripe.form.postal_code",type:"text",placeholder:"94107",required:!0,label:"ZIP"})},e.prototype.render=function(){return t("div",null,t("input",{type:"hidden",class:"token",name:this.name,value:this.value}),t("div",{class:"field"},t("label",{"data-for":"stellar_stripe.form.card"},t("p",{class:"label"},"Card details")),t("div",{"data-tid":"stellar_stripe.form.card",id:"card",class:"input"}),this.error&&t("p",{class:"validation"},t("span",null,this.error))),t("stellar-grid",null,this.renderPhone(),this.renderZip()))},Object.defineProperty(e,"is",{get:function(){return"stellar-stripe"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{card:{state:!0},cardData:{state:!0},connect:{method:!0},element:{elementRef:!0},error:{state:!0},getToken:{method:!0},input:{state:!0},name:{type:String,attr:"name"},setError:{method:!0},state:{state:!0},stripe:{state:!0},token:{type:String,attr:"token"},value:{state:!0}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"style",{get:function(){return"stellar-stripe{display:block}stellar-stripe .field{position:relative;margin-bottom:30px;width:100%}stellar-stripe label{display:block;margin-bottom:10px;line-height:1.69;color:#484849;color:var(--gray5);font-size:13px;font-weight:600}stellar-stripe .input{border:1px solid var(--gray2);border-radius:4px}stellar-stripe .input::-webkit-input-placeholder{-webkit-transition:color .3s cubic-bezier(.165,.84,.44,1);transition:color .3s cubic-bezier(.165,.84,.44,1);color:transparent}stellar-stripe .input::-moz-placeholder{-webkit-transition:color .3s cubic-bezier(.165,.84,.44,1);transition:color .3s cubic-bezier(.165,.84,.44,1);color:transparent}stellar-stripe .input:-ms-input-placeholder{-webkit-transition:color .3s cubic-bezier(.165,.84,.44,1);transition:color .3s cubic-bezier(.165,.84,.44,1);color:transparent}stellar-stripe .input.StripeElement{display:-ms-flexbox;display:flex;top:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;padding:20px;height:100%}stellar-stripe .input.StripeElement>div{width:100%}stellar-stripe .input.focused::-webkit-input-placeholder,stellar-stripe .input:not(.empty)::-webkit-input-placeholder{color:var(--gray2)}stellar-stripe .input.focused::-moz-placeholder,stellar-stripe .input:not(.empty)::-moz-placeholder{color:var(--gray2)}stellar-stripe .input.focused:-ms-input-placeholder,stellar-stripe .input:not(.empty):-ms-input-placeholder{color:var(--gray2)}stellar-stripe .input.focused+label,stellar-stripe .input:not(.empty)+label{cursor:default;-webkit-transform:scale(.85) translateY(-25px);transform:scale(.85) translateY(-25px);color:#aab7c4}stellar-stripe .input.focused+label{color:#24b47e}stellar-stripe .input.invalid+label{color:#ffa27b}stellar-stripe .input.focused+label+.baseline{background-color:#24b47e}stellar-stripe .input.focused.invalid+label+.baseline{background-color:#e25950}stellar-stripe .input input{appearance:none;-webkit-appearance:none;outline:none;border-style:none;-moz-appearance:none}stellar-stripe .validation{margin-top:10px;margin-bottom:0;color:var(--red5);font-size:14px;font-weight:500}stellar-stripe .validation span{display:block;padding:10px 0;line-height:1.4}stellar-stripe .validation span+span{border-top:1px solid var(--gray1)}"},enumerable:!0,configurable:!0}),e}();e.StellarStripe=o,Object.defineProperty(e,"__esModule",{value:!0})});