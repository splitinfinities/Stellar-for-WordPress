import{d as e,f as t,g as i}from"./p-1da3eb99.js";import"./p-40f083d9.js";import{a as n}from"./p-d0cf38d8.js";import"./p-27460e3f.js";import"./p-f26db59a.js";import"./p-cf2c1f95.js";class s{constructor(t){e(this,t),this.initialOriginX=50,this.initialOriginY=30,this.itemZ=10,this.cameraSpeed=150,this.cameraZ=-1,this.scenePerspective=1,this.distanceFromTop=0,this.distanceFromBottom=0,this.perspectiveOrigin={x:0,y:0,maxGap:10}}randomFloat(e,t){return Math.floor(Math.random()*(t-e))+e}componentWillLoad(){this.distanceFromTop=this.element.getBoundingClientRect().top,this.distanceFromBottom=this.element.getBoundingClientRect().bottom,this.prepare()}prepare(){this.sections=Array.from(this.element.querySelectorAll("stellar-scroll-z-section")),n.set({"--scenePerspective":this.scenePerspective,"--scenePerspectiveOriginX":this.initialOriginX,"--scenePerspectiveOriginY":this.initialOriginY,"--itemZ":this.itemZ,"--cameraSpeed":this.cameraSpeed,"--cameraZ":this.cameraZ,"--sectionHeight":0},document.documentElement),this.perspectiveOrigin={x:parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--scenePerspectiveOriginX")),y:parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--scenePerspectiveOriginY")),maxGap:10},this.setSceneHeight(),this.sections.forEach((e,t)=>{const i=`${this.randomFloat(-40,150)}%`,n=`${this.randomFloat(-100,100)}%`;e.style.setProperty("transform",`translate3D(${i}, ${n}, ${`calc(var(--itemZ) * var(--cameraSpeed) * ${t} * -1px)`})`)})}setSceneHeight(){const e=this.sections.length,t=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--itemZ")),i=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--scenePerspective")),n=parseFloat(getComputedStyle(document.documentElement).getPropertyValue("--cameraSpeed")),s=window.innerHeight+i*n+t/2*n*e;document.documentElement.style.setProperty("--sectionHeight",`${s}`)}moveCamera(){this.distanceFromTop=this.element.getBoundingClientRect().top,this.distanceFromBottom=this.element.getBoundingClientRect().bottom;const e=window.pageYOffset-this.distanceFromTop;e>=0?document.documentElement.style.setProperty("--cameraZ",`${e}`):document.documentElement.style.setProperty("--cameraZ","-1")}moveCameraAngle(e){const t=100*(e.clientX-window.innerWidth/2)/(window.innerWidth/2)*-1,i=100*(e.clientY-window.innerHeight/2)/(window.innerHeight/2)*-1,n=this.perspectiveOrigin.y+i*this.perspectiveOrigin.maxGap/100;document.documentElement.style.setProperty("--scenePerspectiveOriginX",`${this.perspectiveOrigin.x+t*this.perspectiveOrigin.maxGap/100}`),document.documentElement.style.setProperty("--scenePerspectiveOriginY",`${n}`)}render(){return t("div",{class:"container"},t("div",{class:"scene"},t("slot",null)))}get element(){return i(this)}static get style(){return":host{height:calc(var(--sectionHeight) * 1px);display:block;opacity:calc(var(--cameraZ) + 1);will-change:opacity;-webkit-transition:opacity .2s ease 0s;transition:opacity .2s ease 0s}:host .container{position:fixed;top:0;left:0;width:100%;height:100%;-webkit-perspective:calc(var(--scenePerspective) * var(--cameraSpeed) * 1px);perspective:calc(var(--scenePerspective) * var(--cameraSpeed) * 1px);-webkit-perspective-origin:calc(var(--scenePerspectiveOriginX) * 1%) calc(var(--scenePerspectiveOriginY) * 1%);perspective-origin:calc(var(--scenePerspectiveOriginX) * 1%) calc(var(--scenePerspectiveOriginY) * 1%);will-change:perspective-origin;-webkit-transform:translateZ(0);transform:translateZ(0)}:host .scene{position:absolute;top:0;height:100vh;width:100%;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transform:translateZ(calc(var(--cameraZ) * 1px));transform:translateZ(calc(var(--cameraZ) * 1px));will-change:transform}:host ::slotted(stellar-scroll-z-section){position:absolute;display:block;width:100%;top:40%}\@media only screen and (min-width:600px){:host ::slotted(stellar-scroll-z-section){width:45%}}"}}export{s as stellar_scroll_z_root};